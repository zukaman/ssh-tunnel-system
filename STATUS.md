# –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ SSH Tunnel System

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –≠—Ç–∞–ø 1.1-1.2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã - –ó–ê–í–ï–†–®–ï–ù–û
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ 
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω README —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ docs/DEVELOPMENT_PLAN.md

### –≠—Ç–∞–ø 2.1: SSH Tunnel Server - –ó–ê–í–ï–†–®–ï–ù–û ‚úÖ
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è reverse port forwarding**
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ tcpip-forward –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º payload**
- ‚úÖ **–ü—Ä–æ–±—Ä–æ—Å SSH –ø–æ—Ä—Ç–æ–≤ (22 ‚Üí –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ—Ä—Ç—ã)**
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ SSH host key –≤ —Ñ–∞–π–ª**
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ authorized_keys –∏–∑ —Ñ–∞–π–ª–∞**
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–ª–æ–º –ø–æ—Ä—Ç–æ–≤**
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ tunnel-keygen –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è SSH –∫–ª—é—á–∞–º–∏**
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SSH –∫–ª—é—á–µ–π**
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `go.mod` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- ‚úÖ `.gitignore` –¥–ª—è Go –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `Makefile` —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ —Å–±–æ—Ä–∫–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω)
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π: `configs/server.example.yaml`, `configs/client.example.yaml`
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `cmd/tunnel-server/main.go`
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `cmd/tunnel-client/main.go`
- ‚úÖ **–£—Ç–∏–ª–∏—Ç–∞ `cmd/tunnel-keygen/main.go` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è SSH –∫–ª—é—á–∞–º–∏**
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `pkg/config/config.go` (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
- ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π SSH —Å–µ—Ä–≤–µ—Ä `pkg/tunnel/server.go`**
- ‚úÖ SSH –∫–ª–∏–µ–Ω—Ç `pkg/tunnel/client.go` —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–µ–π `pkg/tunnel/keys.go`

## üîÑ –¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø: –≠—Ç–∞–ø 2.2 - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSH Tunnel Server

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ 2.2:
- [ ] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è tunnel server
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ reverse port forwarding
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º–æ–≥–æ —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å SSH –∫–ª—é—á–∞–º–∏
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

## üìã –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

### –≠—Ç–∞–ø 3: –î–æ—Ä–∞–±–æ—Ç–∫–∞ SSH Tunnel Client
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—è—Ö
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç—É–Ω–Ω–µ–ª–µ–π
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### –≠—Ç–∞–ø 4: Management API –∏ CLI
- [ ] gRPC API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º
- [ ] REST API –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- [ ] CLI —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] Web UI –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üõ† –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make setup-dev

# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
make build

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
make run-server

# –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ (–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
make run-client

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–µ–π
make setup-keys

# –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make quick-test

# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
make quality
```

## üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—é

### –≠—Ç–∞–ø 2.1 –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ:
- ‚úÖ SSH tunnel server –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- ‚úÖ Reverse port forwarding —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ SSH –∫–ª—é—á–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞–º–∏ –∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã

**–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è**: –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —ç—Ç–∞–ø—É 2.2 - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSH tunnel server

## üìÅ –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

GitHub: https://github.com/zukaman/ssh-tunnel-system

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–Ø–∑—ã–∫**: Go 1.21+
- **SSH –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**: golang.org/x/crypto/ssh
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: Viper (YAML)
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: Logrus
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Client-Server —Å reverse tunneling
- **–ü–æ—Ä—Ç—ã**: Server SSH:2222, gRPC:8080, Client tunnels:2200-2300
- **SSH –∫–ª—é—á–∏**: Ed25519 (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ü—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏ —á–µ—Ä–µ–∑ authorized_keys

## üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–≠—Ç–∞–ø 2.1)

1. **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π reverse tunneling**: –ö–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSH –∫–ª—é—á–∞–º–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–µ–π
3. **–ì–∏–±–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –û—Ç —Ä–µ–∂–∏–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–æ –ø—Ä–æ–¥–∞–∫—à–Ω —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–µ–π
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç—É–Ω–Ω–µ–ª–µ–π
5. **–ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: `make setup-dev` –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å—Ä–µ–¥—ã

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!
